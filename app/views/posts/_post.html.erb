<div id="<%= dom_id(post) %>" class="bg-white rounded-lg shadow p-4">
  <div class="flex gap-4">
    <div class="flex-shrink-0">
      <%= render 'posts/vote_buttons', post: post %>
    </div>
    
    <div class="flex-shrink-0">
      <%= link_to user_path(post.user) do %>
        <%= avatar_for(post.user, size: :small) %>
      <% end %>
    </div>
    
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 text-sm text-gray-500">
        <%= link_to post.user.username, user_path(post.user), class: 'font-medium text-gray-900 hover:underline' %>
        <% if post.theme %>
          <span class="px-2 py-0.5 rounded text-xs" style="background-color: <%= post.theme.color %>20; color: <%= post.theme.color %>">
            <%= post.theme.name %>
          </span>
        <% end %>
        <span>Â·</span>
        <span><%= time_ago_in_words(post.created_at) %> ago</span>
      </div>
      
      <div class="mt-2 text-gray-900 whitespace-pre-wrap"><%= post.body %></div>
      
      <% if post.image.attached? %>
        <div class="mt-3">
          <%= image_tag post.image, 
              class: 'rounded-lg max-w-full max-h-96 object-contain', 
              alt: 'Post image' %>
        </div>
      <% end %>
      
      <div class="mt-3 flex items-center gap-4 text-sm text-gray-500">
        <%= link_to post_path(post), class: 'hover:text-gray-700' do %>
          <%= post.replies_count %> replies
        <% end %>
        
        <% if user_signed_in? && post.user == current_user %>
          <%= button_to 'Delete', post_path(post), method: :delete, 
              class: 'text-red-500 hover:text-red-700',
              data: { turbo_confirm: 'Are you sure?' } %>
        <% end %>
      </div>
    </div>
  </div>
</div>
